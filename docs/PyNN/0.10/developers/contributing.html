
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Contributing to PyNN &#8212; PyNN 0.10.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/pyNN_icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Governance" href="governance.html" />
    <link rel="prev" title="Bug reports and feature requests" href="bug_reports.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="governance.html" title="Governance"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="bug_reports.html" title="Bug reports and feature requests"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PyNN 0.10.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../developers_guide.html" accesskey="U">Developers’ guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Contributing to PyNN</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="contributing-to-pynn">
<h1>Contributing to PyNN<a class="headerlink" href="#contributing-to-pynn" title="Permalink to this heading">¶</a></h1>
<section id="mailing-list">
<h2>Mailing list<a class="headerlink" href="#mailing-list" title="Permalink to this heading">¶</a></h2>
<p>Discussions about PyNN take place in the <a class="reference external" href="http://groups.google.com/group/neuralensemble">NeuralEnsemble Google Group</a>.</p>
</section>
<section id="setting-up-a-development-environment">
<h2>Setting up a development environment<a class="headerlink" href="#setting-up-a-development-environment" title="Permalink to this heading">¶</a></h2>
<p>We strongly suggest you work in a virtual environment, e.g. using <a class="reference external" href="http://www.virtualenv.org/">virtualenv</a> or Anaconda.</p>
<section id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h3>
<p>In addition to the requirements listed in <a class="reference internal" href="../installation.html"><span class="doc">Installation</span></a>, you will need to
install:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://nose.readthedocs.org/">nose</a></p></li>
<li><p><a class="reference external" href="http://www.voidspace.org.uk/python/mock/">mock</a></p></li>
<li><p><a class="reference external" href="http://nedbatchelder.com/code/coverage/">coverage</a></p></li>
</ul>
</div></blockquote>
<p>to run tests, and:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="http://sphinx-doc.org/">Sphinx</a></p></li>
<li><p>matplotlib</p></li>
</ul>
</div></blockquote>
<p>to build the documentation.</p>
</section>
<section id="code-checkout">
<h3>Code checkout<a class="headerlink" href="#code-checkout" title="Permalink to this heading">¶</a></h3>
<p>PyNN development is based around GitHub. Once you have a GitHub account, you
should <a class="reference external" href="https://github.com/NeuralEnsemble/PyNN/fork">fork</a> the official <a class="reference external" href="https://github.com/NeuralEnsemble/PyNN/">PyNN repository</a>, and then clone your fork to your
local machine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/&lt;username&gt;/PyNN.git pyNN_dev
</pre></div>
</div>
<p>To work on the development version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout master
</pre></div>
</div>
<p>To work on the latest stable release (for bug-fixes):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout --track origin/0.8
</pre></div>
</div>
<p>To keep your PyNN repository up-to-date with respect to the official
repository, add it as a remote:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git remote add upstream https://github.com/NeuralEnsemble/PyNN.git
</pre></div>
</div>
<p>and then you can pull in any upstream changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git pull upstream master
</pre></div>
</div>
<p>To get PyNN onto your <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> there are many options, such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>pip editable mode (<cite>pip install -e /path/to/PyNN</cite>)</p></li>
<li><p>creating a symbolic link named <code class="file docutils literal notranslate"><span class="pre">pyNN</span></code> from somewhere that is already
on your <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>, such as the <code class="file docutils literal notranslate"><span class="pre">site-packages</span></code> directory,
to the <code class="file docutils literal notranslate"><span class="pre">pyNN_trunk/pyNN</span></code> directory.</p></li>
</ul>
</div></blockquote>
<p>If you are developing with NEURON, don’t forget to compile the NMODL files in
<code class="file docutils literal notranslate"><span class="pre">pyNN/neuron/nmodl</span></code> by running <strong class="command">nrnivmodl</strong>, and to recompile any time
you modify any of them.</p>
</section>
</section>
<section id="coding-style">
<h2>Coding style<a class="headerlink" href="#coding-style" title="Permalink to this heading">¶</a></h2>
<p>We try to stay fairly close to <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP8</a>. Please note in particular:</p>
<blockquote>
<div><ul class="simple">
<li><p>indentation of four spaces, no tabs</p></li>
<li><p>single space around most operators, but no space around the ‘=’ sign when
used to indicate a keyword argument or a default parameter value.</p></li>
<li><p>some function/method names in PyNN use <code class="docutils literal notranslate"><span class="pre">mixedCase</span></code>, but these will
gradually be deprecated and replaced with <code class="docutils literal notranslate"><span class="pre">lower_case_with_underscores</span></code>.
Any new functions or methods should use the latter.</p></li>
<li><p>we currently target versions 2.7 and 3.6+</p></li>
</ul>
</div></blockquote>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">¶</a></h2>
<p>Running the PyNN test suite requires the <em>nose_</em>, <em>mock_</em> and <em>nose-testconfig</em> packages,
and optionally the <em>coverage_</em> package. To run the entire test suite, in the
<code class="docutils literal notranslate"><span class="pre">test</span></code> subdirectory of the source tree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nosetests
</pre></div>
</div>
<p>To see how well the codebase is covered by the tests, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nosetests --with-coverage --cover-package=pyNN --cover-erase --cover-html
</pre></div>
</div>
<p>There are currently two sorts of tests, unit tests, which aim to exercise
small pieces of code such as individual functions and methods, and system tests,
which aim to test that all the pieces of the system work together as expected.</p>
<p>If you add a new feature to PyNN, or fix a bug, you should write both unit and
system tests.</p>
<p>Unit tests should where necessary make use of mock/fake/stub/dummy objects to
isolate the component under test as well as possible. The <code class="xref py py-mod docutils literal notranslate"><span class="pre">pyNN.mock</span></code>
module is a complete mock simulator backend that may be used for this purpose.
Except when testing a specific simulator interface, unit tests should be able to
run without a simulator installed.</p>
<p>System tests should be written so that they can run with any of the simulators.
The suggested way to do this is to write test functions, in a separate file,
that take a simulator module as an argument, and then call these functions from
<code class="docutils literal notranslate"><span class="pre">test_neuron.py</span></code>, <code class="docutils literal notranslate"><span class="pre">test_nest.py</span></code>, etc.</p>
<p>System tests defined in the scenarios directory are treated as a single test
(test_scenarios()) while running nosetests. To run only the tests within a file
named ‘test_electrodes’ located inside system/scenarios, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nosetests -s --tc=testFile:test_electrodes test_nest.py
</pre></div>
</div>
<p>To run a single specific test named ‘test_changing_electrode’ located within
some file (and added to registry) inside system/scenarios, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nosetests -s --tc=testName:test_changing_electrode test_nest.py
</pre></div>
</div>
<p>Note that this would also run the tests specified within the simulator specific
files such as test_brian.py, test_nest.py and test_neuron.py. To avoid
this, specify the ‘test_scenarios function’ on the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ nosetests -s --tc=testName:test_changing_electrode test_nest.py:test_scenarios
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">test/unsorted</span></code> directory contains a number of old tests that are either
no longer useful or have not yet been adapted to the nose framework. These are
not part of the test suite, but we are gradually adapting those tests that are
useful and deleting the others.</p>
</section>
<section id="submitting-code">
<h2>Submitting code<a class="headerlink" href="#submitting-code" title="Permalink to this heading">¶</a></h2>
<p>The best way to get started with contributing code to PyNN is to fix a small
bug (<a class="reference external" href="https://github.com/NeuralEnsemble/PyNN/issues?labels=minor&amp;state=open">bugs marked “minor” in the bug tracker</a>) in your checkout of
the code. Once you are happy with your changes, <strong>run the test suite again to check
that you have not introduced any new bugs</strong>. If this is your first contribution
to the project, please add your name and affiliation/employer to <code class="file docutils literal notranslate"><span class="pre">AUTHORS</span></code>.</p>
<p>After committing the changes to your local repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git commit -m &#39;informative commit message&#39;
</pre></div>
</div>
<p>first pull in any changes from the upstream repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git pull upstream master
</pre></div>
</div>
<p>then push to your own account on GitHub:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git push
</pre></div>
</div>
<p>Now, via the GitHub web interface, open a pull request.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h2>
<p>PyNN documentation is generated using <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a>.</p>
<p>To build the documentation in HTML format, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make html
</pre></div>
</div>
<p>in the <code class="docutils literal notranslate"><span class="pre">doc</span></code> subdirectory of the source tree. Many of the files contain
examples of interactive Python sessions. The validity of this code can be tested
by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make doctest
</pre></div>
</div>
<p>PyNN documentation is hosted at <a class="reference external" href="http://neuralensemble.org/docs/PyNN">http://neuralensemble.org/docs/PyNN</a></p>
</section>
<section id="making-a-release">
<h2>Making a release<a class="headerlink" href="#making-a-release" title="Permalink to this heading">¶</a></h2>
<p>To make a release of PyNN requires you to have permissions to upload PyNN
packages to the <a class="reference external" href="http://pypi.python.org/">Python Package Index</a>, and to
upload documentation to the neuralensemble.org server. If you are interested
in becoming release manager for PyNN, please contact us via the <a class="reference external" href="http://groups.google.com/group/neuralensemble">mailing list</a>.</p>
<p>When you think a release is ready, run through the following checklist one
last time:</p>
<blockquote>
<div><ul class="simple">
<li><p>do all the tests pass? This means running <strong class="command">nosetests</strong> in
<code class="file docutils literal notranslate"><span class="pre">test/unittests</span></code> and <code class="file docutils literal notranslate"><span class="pre">test/system</span></code> and running <strong class="command">make doctest</strong> in
<code class="file docutils literal notranslate"><span class="pre">doc</span></code>. You should do this on at least two Linux systems – one a very
recent version and one at least a year old, and on at least one version of
Mac OS X. You should also do this with Python 2.7 and 3.4, 3.5 or 3.6.</p></li>
<li><p>do all the example scripts generate the correct output? Run the
<code class="file docutils literal notranslate"><span class="pre">run_all_examples.py</span></code> script in <code class="file docutils literal notranslate"><span class="pre">examples/tools</span></code> and then visually
check the <code class="file docutils literal notranslate"><span class="pre">.png</span></code> files generated in <code class="file docutils literal notranslate"><span class="pre">examples/tools/Results</span></code>. Again,
you should do this on at least two Linux systems and one Mac OS X system.</p></li>
<li><p>does the documentation build without errors? You should then at least skim
the generated HTML pages to check for obvious problems.</p></li>
<li><p>have you updated the version numbers in <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code>, <code class="file docutils literal notranslate"><span class="pre">pyNN/__init__.py</span></code>,
<code class="file docutils literal notranslate"><span class="pre">doc/conf.py</span></code> and <code class="file docutils literal notranslate"><span class="pre">doc/installation.txt</span></code>?</p></li>
<li><p>have you updated the changelog?</p></li>
</ul>
</div></blockquote>
<p>Once you’ve confirmed all the above, create a source package using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py sdist
</pre></div>
</div>
<p>and check that it installs properly (you will find it in the <code class="file docutils literal notranslate"><span class="pre">dist</span></code>
subdirectory.</p>
<p>Now you should commit any changes, then tag with the release number as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git tag x.y.z
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">x.y.z</span></code> is the release number. You should now upload the documentation
to <a class="reference external" href="http://neuralensemble.org/docs/PyNN/">http://neuralensemble.org/docs/PyNN/</a> by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make zip
</pre></div>
</div>
<p>in the <code class="file docutils literal notranslate"><span class="pre">doc</span></code> directory, and then unpacking the resulting archive on the
NeuralEnsemble server.</p>
<p>If this is a development release (i.e. an <em>alpha</em> or <em>beta</em>), the final step is
to upload the source package to the INCF Software Center.
Do <strong>not</strong> upload development releases to PyPI.</p>
<p>To upload a package to the INCF Software Center, log-in, and then go to the
<a class="reference external" href="http://software.incf.org/software/pynn/pynn/folder_contents">Contents</a> tab. Click on “Add new…” then “File”, then fill in the form and
upload the source package.</p>
<p>If this is a final release, there are a few more steps:</p>
<blockquote>
<div><ul>
<li><p>if it is a major release (i.e. an <code class="docutils literal notranslate"><span class="pre">x.y.0</span></code> release), create a new bug-fix
branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git branch x.y
</pre></div>
</div>
</li>
<li><p>upload the source package to PyPI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py sdist upload
</pre></div>
</div>
</li>
<li><p>make an announcement on the <a class="reference external" href="http://groups.google.com/group/neuralensemble">mailing list</a></p></li>
<li><p>if it is a major release, write a blog post about it with a focus on the
new features and major changes</p></li>
<li><p>go home, take a headache pill and lie down for a while in a darkened room (-;</p></li>
</ul>
</div></blockquote>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/pyNN_logo.png" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Contributing to PyNN</a><ul>
<li><a class="reference internal" href="#mailing-list">Mailing list</a></li>
<li><a class="reference internal" href="#setting-up-a-development-environment">Setting up a development environment</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#code-checkout">Code checkout</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coding-style">Coding style</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#submitting-code">Submitting code</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#making-a-release">Making a release</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="bug_reports.html"
                          title="previous chapter">Bug reports and feature requests</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="governance.html"
                          title="next chapter">Governance</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developers/contributing.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="governance.html" title="Governance"
             >next</a> |</li>
        <li class="right" >
          <a href="bug_reports.html" title="Bug reports and feature requests"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PyNN 0.10.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../developers_guide.html" >Developers’ guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Contributing to PyNN</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2006-2022, the PyNN community.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.2.3.
    </div>
  </body>
</html>